<div class="row">
	<div class="container-fluid">
		<h2 class="text-center">Register a New User:</h2>
	</div>
</div>
<div class="row">
	<div class="col-sm-4"></div>
	<div class="col-sm-4">
		<form id="add-user" action="/putUser" method="POST">
			<div class="form-group">
				<label for="username">Username:</label>
				<input type="text" class="form-control" id="username" placeholder="Enter username" name="username" autocomplete="off" required="required">
			</div>
			<div class="form-group">
				<label for="password">Password:</label>
				<input type="password" class="form-control" id="password" placeholder="Enter password" name="password" required="required">
			</div>
			<div class="form-group">
				<label for="passwordconf">Re-Enter Password:</label>
				<input type="password" class="form-control" id="passwordconf" placeholder="Enter password" name="password-conf" required="required">
			</div>
			<div class="form-group">
				<label for="usertype">User Permissions:</label>
				<select name="usertype" class="form-control">
					<option value="Admin">Admin</option>
					<option value="User">User</option>
				</select>
			</div>
			<input type="submit" value="Register">
		</form>
	</div>
	<div class="col-sm-4"></div>
</div>
<script type="text/javascript">
	var password = document.getElementById("password")
	, confirm_password = document.getElementById("password-conf");

	function validatePassword(){
		if(password.value != confirm_password.value) {
			confirm_password.setCustomValidity("Passwords Don't Match");
		} else {
			confirm_password.setCustomValidity('');
		}
	}

	password.onchange = validatePassword;
	confirm_password.onkeyup = validatePassword;


	var frm = $('#add-user');

    frm.submit(function (e) {
        e.preventDefault();
        $.ajax({
            type: frm.attr('method'),
            url: frm.attr('action'),
            data: frm.serialize(),
            success: function (data) {
            	console.log("added a user");
            },
            error: function (data) {
                console.log('An error occurred.');
                console.log(data);
            },
        });
    });
</script>